"use strict";angular.module("App.availability",["App.config"]).directive("availability",function(){return{restrict:"AEC",scope:{datasource:"@"},templateUrl:"components/availability/availability.html",controller:function(c,f,b,e,a){c.message="hello";c.datasource=a.datasource;c.availability="Loading...";c.$watch("datasource",function d(){if(a.datasource!="{{product.id}}"&&a.datasource!=""){c.showLoading=false;c.datasource=a.datasource;f({url:backend+"/p/"+a.datasource+"/availability",method:"GET",}).success(function(i,g,j,h){if(i.available){c.availability="Available"}else{c.availability="Unavailable"}}).error(function(i,g,j,h){c.error=true})}else{c.showLoading=true}})},link:function(b,c,a){}}});