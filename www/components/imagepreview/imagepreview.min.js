"use strict";angular.module("App.imagepreview",["App.config","ngColorThief"]).directive("imagepreview",function(){return{restrict:"AEC",scope:{image:"@"},templateUrl:"components/imagepreview/imagepreview.html",controller:function(c,e,b,d,a){c.datasource=a.datasource},link:function(b,c,a,d){b.imageprops={height:0,width:0};b.style={"background-color":"pink",background:'url("") no-repeat top center fixed',height:200+"px","background-size":"cover"};b.bannerstyle={};b.imageloaded=false;b.$watch("image",function e(){if(a.image!=""){b.bannerstyle.height=200+"px";b.url=data+b.image;b.bannerstyle["background-image"]='url("'+b.url+'")';b.style["background-image"]='url("'+b.url+'")';var f=new Image();f.onload=function(){b.imageloaded=true;setTimeout(function(){b.imageloaded=true;b.bannerstyle["-webkit-animation"]="slideInDown 0.5s";b.bannerstyle.animation="slideInDown 0.5s";b.style["-webkit-animation"]="slideInDown 0.5s";b.style.animation="slideInDown 0.5s";b.$apply()},1)};f.src=b.url;if(f.complete){f.onload()}}});b.tapped=false;b.tap=function(){b.tapped=!b.tapped}}}});