"use strict";angular.module("App.rentbutton",["App.config"]).directive("rentbutton",function(){return{restrict:"AEC",scope:{productid:"@"},templateUrl:"components/rentbutton/rentbutton.html",controller:function(c,f,b,e,a){c.message="hello";c.productid=a.productid;c.availability="Loading...";c.$watch("productid",function d(){if(a.productid!="{{product.id}}"&&c.productid!=""){c.showLoading=false;c.productid=a.productid;f({url:backend+"/p/"+c.productid+"/availability",method:"GET",}).success(function(i,g,j,h){if(i.available){c.availability="Available"}else{c.availability="Unavailable"}}).error(function(i,g,j,h){c.error=true})}else{c.showLoading=true}})},link:function(c,d,b,a){d.bind("click",function(){if(c.availability==="Available"){}else{if(c.availability==="Unavailable"){alert("item is not Available")}}})}}});